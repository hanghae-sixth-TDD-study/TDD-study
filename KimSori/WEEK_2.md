## TDD 2주차 - 3, 4장 요약

### 테스트 코드 작성 순서

* 한번에 많은 코드를 만들다 보면 버그가 만들어지고 해당 버그를 잡기 위해 많은 시간을 허비하게 된다. 

1. **구현하기 쉬운 테스트부터 시작**
   * 한번에 구현하는 시간이 짧아지면 **디버깅 유리**
   * 디버깅 시 **문제 원인 빠르게 파악** 가능
   
2. **예외 상황 먼저 테스트 **

   * 예외 상황에 따른 if-else 구조가 미리 만들어지기 때문에 많은 코드를 완성한 뒤에 예외 상황을 반영할 때보다 **코드 구조 변경 빈도 낮아짐**

3. **완급 조절**

   * 처음 TDD 구현시 어려운 점은 한번에 얼만큼의 코드를 작성할 것인지에 대한 것

   * 다음 단계를 통해 구현하는 연습 필요

     1. **정해진 값 리턴**

     2. **값 비교를 이용하여 정해진 값 리턴**

     3. **다양한 테스트를 추가하면서 구현을 일반화**

4. **지속적인 리펙토링**

   * **테스트 통과 후** 진행
   * 코드 중복은 대표적인 리펙토링 대상



### TDD 팁

* TDD 시작 시 **테스트 목록** 미리 **정리**하면 좋음.
* **지라** 나 **트렐로** 같은 시스템 사용 시 해당 테스트 사례를 하위 작업으로 등록해 테스트 통과 여부 추적 가능
* 테스트를 한번에 다 작성하면 안됨
* **테스트 코드 - 통과 - 리팩토링** 같이 짧은 리듬 반복. 다루는 범위가 작고 개발 주기도 짧으므로 **개발 집중력 증가**
* **변경 범위가 큰 리팩토링**의 경우 테스트 통과에 집중. 대신 다음 할 일 목록에 추가해 놓치지 않고 진행 필요
  * 진행 전 코드 커밋
  * 또는 별도의 브랜치에서 리펙토링 진행
* 시작이 안되는 경우 **검증하는 코드**부터 작성 시작.



### 설계

1. 기능 명세로부터 시작

2. 요구사항 문서를 이용해 기능 명세 구체화

3. 입력과 결과를 도출한 기능 명세를 코드에 반영

4. 반영 과정에서 기능명, 파라미터, 리턴 타입 등 결정 됨



### TDD 에서의 설계

* 이름은 설계에서 매우 중요. **정확한 이름 사용 필수**. 잘못된 이름은 레거시를 야기함.
* **테스트 통과할 만큼**한 코드 작성
* **기능 명세 구체화** 필수 -> 모호한 상황 만나면 구체적 예로 바꿔 테스트 코드에 반영.

1. 테스트 코드 만들기
   * 테스트 할 기능 실행
   * 실행 결과 검증
2. 테스트 통과를 위한 코드 구현
3. 리펙토링 하는 과정 반복