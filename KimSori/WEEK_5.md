## TDD 8주차 - 9, 10장, 11장 요약



## 9장. 테스트 범위와 종류



#### 테스트 범위

|                       | 기능 데스트 | 통합테스트 | 단위 테스트 |
| --------------------- | ----------- | ---------- | ----------- |
| 브라우저(HTML, JS)    | O           |            |             |
| 톰켓(자바) - 컨트롤러 | O           | O          |             |
| 톰켓(자바) - 서비스   | O           | O          | O           |
| 톰켓(자바) - 모델     | O           | O          | O           |
| 톰켓(자바) - 설정     | O           | O          |             |
| 톰켓(자바) - 인프라   | O           | O          |             |
| DB(테이블)            | O           | O          |             |



#### 기능 테스트 란?

* **사용자 입장**에서 시스템이 제공하는 기능이 올바르게 동작하는지 확인
* 필요 리소스 up
* 결과 확인 어려움



#### 통합 테스트 란?

* **시스템의 각 구성 요소**가 올바르게 연동되는지 확인
* 필요 리소스 up
* 테스트 실행 속도 down
* 결과 확인 어려움



#### 단위 테스트 란?

* 개별 코드나 컴포넌트가 **기대한대로 동작**하는지 확인
* 필요 리소스 down
* 테스트 실행 속도 up
* 결과 확인 쉬움



#### 외부 서버를 이용한 테스트

* WireMock 을 이용한 Rest 클라이언트 테스트
* 스프링 부트의 내장 서버를 이용한 API 기능 테스트



## 10장. 테스트 코드와 유지보수



#### TDD 시도시 주의 사항

* 변수나 필드를 상요해서 기댓값 표현하지 않기
* 두 개 이상을 검증하지 않기
* 정확하게 일치하는 값으로 모의 객체 설정하지 않기
* 과도하게 구현 검증하지 않기
* 셋업을 이용해서 중복된 상황을 설정하지 않기
* 통합 테스트에서 데이터 공유 주의하기
* 통합 테스트의 상황 설정을 위한 보조 클래스 사용하기
* 실행 환경이 다르다고 실패하지 않기
* 실행 시점이 다르다고 실패하지 않기
* 랜덤하게 실패하지 않기
* 필요하지 않은 값은 설정하지 않기
* 단위 테스트를 위한 객체 생성 보조 클래스 따로 만들기
* 조건부로 검증하지 않기
* 통합 테스트는 필요하지 않은 범위까지 연동하지 않기
* 더 이상 쓸모없는 테스트 코드 삭제



## 11장. 마치며




> 스트레스 관리의 중요성
>
> * 압박 > 스트레스 증가 > 테스트 안함 > 스트레스 증가 > 테스트 안함 ....

**-> 압박 > 스트레스 증가 > 테스트 작성 > 구현 / 테스트 통과 > 버그 감소, 신뢰 증가 > 스트레스 감소 ...**



#### 회귀 테스트

* 개발하고 테스트한 소프트웨어가 이후에 **코드를 수정해도 기존 코드가 올바르게 동작**하는지 확인하기 위한 테스트



#### TDD 전파하기

* 짝 코딩을 통한 전파
  * TDD 실행 및 업무에 적용해 경험하기
* 레거시 코드에 대한 테스트 추가



