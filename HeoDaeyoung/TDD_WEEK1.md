# TDD 1주차 - chapter1, chapter2

## Chapter 1. TDD 개발 준비

### TDD란 ?

Test-driven Development: 테스트 주도 개발.

JAVA 진영의 대표적인 TDD 개발 도구는 JUnit 이 있다. 현재 JUnit 은 5버전이 가장 범용적으로 사용된다.

JUnit은 JAVA 8 버전 이상을 요구한다.

설치법은 각 사용 IDE 에 맞게 설치..

## Chapter 2. TDD 시작

### TDD 이전의 개발

1. 기능에대한 설계를 먼저 진행. 클래스, 인터페이스 고민과 그 안의 메서드 까지 설정
2. 1. 을 설정하면서 구현도 고민하게 된다. 고민이 완료 되면 코드를 쓴다.
3. 기능 완성 후 실행과 디버깅을 하며 잘못 된 점을 찾아 고친다.

→ 문제점: 한번의 많은 코드를 추가 하면 디버깅 과정이 너무 길다. 웹 어플리케이션의 경우 톰캣 재구동, DB 조회등의 기타 시간이 너무 많이 소요된다.

이러한 문제 때문에 짧게 짧게 테스트해서 구현하는 TDD 의 필요성이 대두 되었다.

### TDD 예시: 덧셈 기능

1.먼저 클래스 및 메서드를 구상한다. 구상이 끝나면 존재하지 않지만 코드를 작성한다.

- Calculator 라는 클래스를 이용해, plus(1, 2) 라는 파라미터는 2개 받는 메서드로 덧셈기능을 구현할 것이고, 이때 결과값은 3 이여야 할 것이다. 결과값 검증은 assertEquals() 를 이용한다.
- 일단 존재하지 않는 클래스와 메서드 때문에 컴파일 에러가 날지언정, 테스트코드를 먼저 구현한다.

1. 테스트를 실행하면 여지없이 컴파일 에러가 날 것이다. 이때 이 테스트를 통과 하기 위한 코드를 추가한다.
- Calculator 클래스를 추가하고, plus() 라는 메서드만 추가해주고 리턴값을 0으로 추가 해준다음 테스트를 하면, 컴파일에러는 해결 될 것이지만, 리턴 값의 차이로 테스트를 통과하지 못한다.

1. 이제 리턴값을 3으로 고치고 테스트를 실행하면 드디어 통과 할것이다.
- 근데 우리가 원한건 무작정 상수 3을 리턴하는 메서드가 아니다. 교차검증을 위한 새로운 plus(4, 1) 테스트를 추가하면 기대값은 5이나 결과값은 3이라 실패할 것이다.

1.  그럼이제 다시 메서드 내용을 수정하여, 3 or 5 를 리턴해주면 되지만, 우리는 코드를 알기 때문에 x + y 값을 리턴해주는 메서드로 만들면 사실상 기능 개발이 끝난 것이다.

이처럼 TDD는 클래스 및 인터페이스의 생성 부터 메서드의 기능 개발 까지 테스트 코드를 이용하여 실패를 거듭하며 코드를 개선해 나가 끝내는 모든 파란 막대로 바꾸는 점진적 개발 방법론이다.

### 암호검사기 구현을 통한 TDD

- 모두 실패, 모두 통과 중 좀 더 난도가 낮은 쪽으로 선택
- 약함, 중간, 강함 이지만 아예 암호가 들어오지 않는 상황도 고려해야 함.
- 최초에는 if else 등으로 특정 상황에 만족하는 테스트 코드를 작성 → 모든 상황에 대응 되는 코드가 되면 기능을개선 (암호화 조건을 만족하는 개당 metCounts 를 증가하여 갯수당 레벨을 부여)
- 이후 지속적인 리팩토링을 통해 가장 가독성이 좋고, 클린한 코드로 개선해 간다.

### TDD 흐름

테스트 → 코딩 → 리팩토링

이후 반복 하는 이러한 과정을

레드 - 그린 - 리팩터 라고 부른다. (레드: 테스트 실패, 그린: 테스트 성공, 리팩터: 리팩토링을 통한 코드 고도화)

이와같이 TDD 를 통해 테스트가 개발을 주도해 나간다.

- 심리적으로 빨간색(동작하지 않는) 코드를 초록색(동작하게) 만들어 가는 과정에서 리팩토링을 과감하게 할 수 있는 장점이있다. 잘되는 초록색 코드에 대한 리팩토링에 대한 거부감이 있을 수 있으나, 미완성일지라도 테스트를 통과하는 코드를 리팩토링 하는 과정에서 심리적 안정감도 느낄 수 있다.
- 테스트를 실행하는데 많은 시간이 소요 되지 않기때문에 즉각적인 빠른 피드백을 기대해 볼 수 있는 점도 장점이다.